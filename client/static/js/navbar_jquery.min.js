$(document).ready(function(){

  //jquery below is to control the animation and speed of anchor tags that are linked to another part of the page, and keep the url from changing from say "/" to "/#project".
  $("a").click(function(){
    $("html, body").stop().animate(
      {scrollTop: $( $.attr(this,"href") ).offset().top},
      750
    );
    var e=$(this).attr("href");
    if (e.indexOf("#contact") == 0) {
      $("#name").focus()
    }
    return !1
  });







  //the rest of the jquery below controls the nav-bar, when it gets fixed to the top of the page, and which link has the "active" class attached to it.
  var header=$(".header-container"),
  projects=$("#projects"),
  projectsOffset=projects.offset(),
  mapCanvasOffset=$("#map").offset()


  $(window).scroll(function(){
    //This conditional triggers the first part of the code
    $(this).scrollTop() > projectsOffset.top?

    //first part of the code below
    ($(this).scrollTop() < mapCanvasOffset.top - 200 &&(
      header.find(".active").removeClass("active"),
      header.find(".project_nav").addClass("active")
    ),
      header.hasClass("default")&&header.hide().removeClass("default").addClass('nav-fixed').fadeIn("slow"))

    //second part of the code below
    :(header.removeClass("nav-fixed").addClass("default"),
    header.find(".active").removeClass("active"),
    header.find(".home_nav").addClass("active")),

    //third part of the code below
    $(this).scrollTop() > mapCanvasOffset.top - 200 &&(
      header.find(".active").removeClass("active"),
      header.find(".contact_nav").addClass("active")
    )

  }) //end of scroll function



  //END **************************************
})
